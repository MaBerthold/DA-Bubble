<div class="mainContainer">
    <div class="mainContainerHeader">
        <div class="mainContainerHeaderLogo">
            <img src="./assets/img/logo.png" alt="">
            <span>DABubble</span>
        </div>
     
        <input type="text" placeholder="Code learning durchsuchen" id="headerInput">
     
        <div class="mainContainerHeaderProfil">
            <span class="mainContainerHeaderProfilName">{{  isEditMode ? editedUserFullName : userFullName  }}</span>
            <img class="profile-img" [src]="getProfileImagePath()" alt="">
            <mat-icon (click)="toggleProfileMenu()" class="logout-icon">keyboard_arrow_down</mat-icon>
            <div class="profil-info-header" *ngIf="isProfileMenuOpen">
                <div (click)="openUserInfo()" class="profile">Profil</div>
                <div (click)="logout(user.id)" class="logout">Log out</div>

                <div class="user-info-details" *ngIf="isProfileInfoOpen">
                    <div class="user-info-header">
                        <p class="title">Profil</p>
                        <mat-icon (click)="closeUserInfo()" class="close-icon">close</mat-icon>
                    </div>
                    <img [src]="getProfileImagePath()" alt="">
                    <div class="user-info-name">
                        <p class="username">{{ userFullName }}</p>
                        <p *ngIf="!authService.isUserAnonymous()" (click)="openEditUser()" class="edit-link">Bearbeiten</p>
                    </div>
                    <div class="user-info">
                        <p class="active-point"></p>
                        <p>Aktive</p>
                    </div>
                    <div class="user-email">
                        <mat-icon>mail_outline</mat-icon>
                        <div class="user-email-address">
                            <p>E-Mail-Adresse</p>
                            <p class="email-address">{{ user.email }}</p>
                        </div>
                    </div>
                </div>

                <div class="user-info-details" *ngIf="isEditMode">
                    <div class="user-info-header">
                        <p class="title">Dein Profil bearbeiten</p>
                        <mat-icon (click)="closeEditUser()" class="close-icon">close</mat-icon>
                    </div>
                    <img [src]="getProfileImagePath()" alt="">
                    <div class="edit-container">
                        <div class="input-fields">
                            <div class="title-input">
                                <img src="./assets/img/account_circle.png">
                                <p>Vollst√§ndiger Name</p>
                            </div>
                            <input [(ngModel)]="userFullName" name="fullName" placeholder="Vor- und Nachname">
                        </div>
                        <div class="input-fields">
                            <div class="title-input">
                                <mat-icon>mail_outline</mat-icon>
                                <p>E-Mail-Adresse</p>
                            </div>
                            <input [(ngModel)]="user.email" name="email" placeholder="E-Mail-Adresse">
                        </div>
                    </div>
                    <div class="button-container">
                        <button (click)="closeEditUser()" class="cancel-btn" type="button">Abbrechen</button>
                        <button (click)="saveUserChange()" class="save-btn" type="button">Speichern</button>
                    </div>
                </div>
            </div>
            <div class="overlay" *ngIf="isProfileMenuOpen" (click)="toggleProfileMenu()"></div>
        </div>
    </div>
    <div class="mainContainerContent">
        <app-workspace></app-workspace>
        <app-channel-chat></app-channel-chat>
        <app-thread *ngIf="threadOpen"></app-thread>        
    </div>
</div>

<!-- 
<div class="reaction-emoji-thread">
    <emoji-mart
      class="emoji-mart"
      [style]="{ width: '238px' }"
      (emojiSelect)="emojiSelected($event)"
      color = #535AF1
      set = "apple"
      [enableSearch] = "false"
      [showPreview] = "false"
      title="Choose your emoji"
    ></emoji-mart>
</div> -->